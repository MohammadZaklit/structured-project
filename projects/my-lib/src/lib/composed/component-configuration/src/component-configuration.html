<form [formGroup]="form">
  <p-tabs value="fieldInfo">
    <p-tablist>
      <p-tab value="fieldInfo">Field Info</p-tab>
      <p-tab value="settings">Settings</p-tab>
    </p-tablist>
    <p-tabpanels>
      <p-tabpanel value="fieldInfo">
        <div class="flex flex-col gap-2">
          <nz-input [config]="nameFieldConfig"></nz-input>
          <nz-input [config]="labelFieldConfig"></nz-input>
          <nz-input [config]="hintFieldConfig"></nz-input>
        </div>
      </p-tabpanel>
      <p-tabpanel value="settings">
        <div formGroupName="settings" class="flex flex-col gap-2">
          <nz-input [config]="valueFieldConfig"></nz-input>
          <nz-input [config]="placeholderFieldConfig"></nz-input>
          <nz-input [config]="patternFieldConfig"></nz-input>
          <nz-input [config]="extraPropsFieldConfig"></nz-input>
          <nz-input [config]="apiToValidateFieldConfig"></nz-input>
          <nz-autocomplete [config]="dataSourceDropdownConfig"></nz-autocomplete>
          <div formArrayName="dataOptions">
            @for (option of dataOptions.controls; track option; let i = $index) {
              <div [formGroupName]="i" class="d-flex gap-2 align-items-center">
                <nz-input
                  [config]="{
                    control: $any(option.get('id')),
                    label: 'Key',
                    name: 'id',
                    form: form,
                  }"
                />

                <nz-input
                  [config]="{
                    control: $any(option.get('id')),
                    label: 'Value',
                    name: 'label',
                    form: form,
                  }"
                />

                <nz-button type="button" (click)="removeOption(i)">❌</nz-button>
              </div>
            }
          </div>

          <nz-button type="button" (click)="addOption()">➕ Add option</nz-button>

          <nz-toggle-switch [config]="isRequiredFieldConfig"></nz-toggle-switch>
          <nz-toggle-switch [config]="isDisabledFieldConfig"></nz-toggle-switch>
          <nz-toggle-switch [config]="isVisibleFieldConfig"></nz-toggle-switch>
        </div>
      </p-tabpanel>
    </p-tabpanels>
  </p-tabs>
  <div class="flex gap-2">
    <nz-button [config]="cancelBtn"></nz-button>
    <nz-button [config]="saveBtn"></nz-button>
  </div>
</form>
